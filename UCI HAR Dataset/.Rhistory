head(amzn)
summary(amzn)
len(amzn)
length(amzn)
sampletimes
head(sampleTimes)
sampleTimes[1,]
sampleTimes[1]
attr(sampleTimes)
?attr
times<-sampleTimes
testtimes<-times
times<-as.date(times)
?as.date
??as.date
?format.date
?format.Date
times<-as.Date(times)
head(times)
summary(times)
as.Date(times,%Y-%m-%d)
as.Date(times,"%Y-%m-%d")
x<-times[1]
x
format(x,"%a %b %d")
format(x,"%a %b %d %y")
format(x,"%a %b %d %Y")
testtimes<-times
times<-format(times,"%a %b %d %Y")
head(times)
weekdays(times[1])
weekdays(times)
?weekdays
times
x
y<-times[2]
x<y
x
y
x<-times[1]
x
x<y
x>y
x
y
z<-times[3]
z>y
z<y
z
install.packages("lubridate")
library(lubridate)
y==mdy(1/4/2007)
y==mdy("1/4/2007")
mdy("1/4/2007")
y
mdy(y)
mdy(y)==mdy("1/4/2007")
weekdays(y)=="Thu"
y<-as.date(y)
y<-as.Date(y)
y
x
e data whose date is greater or equal to 2/1/2007
df <- proj1_data[proj1_data$Date >="2007-2-01",]
# save data whose date is less than 2/3/20077
df2 <- df[df$Date < "2007-2-03",]
times[1]
x<-times[1]
x
as.Date(x)
?as.Date
x<"2007-4-01"
x>"2007-4-01"
times[times>"2013-1-1"]
length(times)
times>"2013-1-1"
attr(times)
summary(times)
times<-as.Date(times)
test<-times
times<-format(times,"%Y-%m-%d")
times<-format(times,"%Y-%b-%d")
x<-times[1]
x
format(x,"%Y")
format(x,"%Y")
x
as.Date(x)
as.Date(x,"%m/%d/%y")
times<-sampleTimes
x<-times[1]
x
as.Date(x,"%m/%d/%y")
times<-as.Date(times,"%m/%d/%y")
head(times)
summary(times)
x
x<"2007-01-04"
x>"2007-01-04"
times>"2011-12-31"&times<"2013-01-01"
subtimes<-times[times>"2011-12-31"&times<"2013-01-01"]
summary(subtimes)
subtimes
length(subtimes)
weekdays(subtimes)=="Mon"
weekdays(subtimes)=="Monday"
sum(weekdays(subtimes)=="Monday")
library(xlsc)
library(xlsx)
read.xlsx("ff.xlsx")
?read.xlsx
z<-read.xlsx("ff.xlsx",1)
z
z<-read.xlsx("ff.xlsx",1,header=FALSE)
z
?gsub
z<-gsub("DNP","NA",z)
z
str(z)
z<-read.xlsx("ff.xlsx",1,header=FALSE)
z
str(z)
names(z)<-c("trades13","trades12","trades11","place13","place12","place11")
z
names(z)<-c("player",trades13","trades12","trades11","place13","place12","place11")
names(z)<-c("player","trades13","trades12","trades11","place13","place12","place11")
z
?sapply
sapply(z,gsub("DNP","NA"))
sapply(z,gsub("DNP","NA",z))
sapply(z$trades13,gsub("DNP","NA",z))
gsub("DNP",NA,z$trades13)
z
z$trades13<-gsub("DNP",NA,z$trades13)
z
str(z)
z$trades13<-as.integer(z$trades13)
str(z)
z$trades12<-as.integer(z$trades12)
z$trades11<-as.integer(z$trades11)
z$place13<-as.integer(z$place13)
z$place12<-as.integer(z$place12)
z$place11<-as.integer(z$place11)
str(z)
z<-gsub("DNP",NA,z)
z
setwd("./cleandata/UCI HAR Dataset")
?read.text
?read.fwf
x<-read.table("./train/subject_train.txt")
x
unique(x)
dim(unique(x))
?tapply
tapply(x,x,length)
table(x)
y<-read.table("./train/X_train.txt")
dim9y
dim(y)
dim(x)
traindata<-read.table("./train/X_train.txt")
trainsubjects<-read.table("./train/subject_train.txt")
wd()
??wd
getwd()
setwd("/Users/TRM/Documents/coursera/r class/cleandata/UCI HAR Dataset")
trainactivities<-read.table("./train/y_train.txt")
dim(trainactivities)
?cbind
head(trainactivities)
head(trainactivities,10)
head(trainactivities,20)
head(trainactivities,50)
head(trainsubjects)
head(trainsubjects,50)
test<-cbind(trainsubjects,trainactivities)
head(test)
head(test,50)
test<-cbind(trainsubjects,trainactivities,traindata)
dim(test)
data<-cbind(trainsubjects,trainactivities,traindata)
testdata<-read.table("./test/X_test.txt")
testactivities<-read.table("./test/y_test.txt")
testsubjects<-read.table("./test/subject_test.txt")
dim(testdata)
dim(testactivities)
data1<-cbind(testsubjects,testactivities,testdata)
dim(data1)
test2<-rbind(data,data1)
dim(test2)
2947+7352
data<-test2
labels<-read.table("features.txt")
labels
labels<-labels[,2]
labels
?name
?names
names(test2[,3:563])<-labels
summary(test2)
names(test2)<-labels
names(test2)
head(test2)
head(test2[,1:4])
labels2<-c("subject","activity")
labels3<-rbind(labels2,labels)
labels2
labels2<-as.data.frame(labels2)
labels2
labels3<-rbind(labels2,labels)
labels2
labels2<-c("subject","activity")
labels2<-as.vector(labels2)
labels2
labels<-as.vector(labels)
labels
labels3
labels3<-as.vector(labels3)
labels2
merge(labels1,labels2)
merge(labels1,labels2)
labels1
labels2
labels3
merge(labels,labels2)
newlabels<-c("subject","activity",labels)
head(newlabels)
dim(newlabels)
newlabels
labels<-read.table("features.txt")
newlabels<-c("subject","activity",labels)
newlabels
labels<-read.table("features.txt")
labels<-labels[,2]
newlabels<-c("subject","activity",labels)
newlabels
labels<-read.table("features.txt")
head(labels)
labels<-labels[,2]
head(labels)
labels
newlabels<-c("subject","activity",labels)
newlabels
labels<-read.table("features.txt")
labels<-labels[,2]
labels<-as.vector(labels)
newlabels<-c("subject","activity",labels)
newlabels
names(test2)<-newlabels
head(test2)
head(test2[,1:5])
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
head(labels)
head(newlabels)
grep("mean",newlabels)
grep("std",newlabels)
paste(grep("std",newlabels),grep("mean",newlabels))
c(grep("std",newlabels),grep("mean",newlabels))
order(c(grep("std",newlabels),grep("mean",newlabels)))
?order
newlabels[order(c(grep("std",newlabels),grep("mean",newlabels)))]
sort.list(c(grep("std",newlabels),grep("mean",newlabels)))
stdlabels<-grep("std",newlabels)
meanlables<-grep("mean",newlabels)
meanlabels<-grep("mean",newlabels)
stdlabels
meanlabels
rbind(stdlabels,meanlables)
rbind(stdlabels,meanlabels)
meanstdlabels<-c(meanlabels,stdlabels)
meanstdlabels
test<-meanstdlabels[order(meanstdlabels)]
test
meanstdlabels<-meanstdlabels[order(meanstdlabels)]
test3<-test2[,meanstdlabels]
dim(test3)
head(test3)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
data<-data[,meanstdlabels]
head(data[,1:10])
names(data)<-newlabels
traindata<-read.table("./train/X_train.txt")
trainactivities<-read.table("./train/y_train.txt")
trainsubjects<-read.table("./train/subject_train.txt")
setwd("/Users/TRM/Documents/coursera/r class/cleandata/UCI HAR Dataset")
##read in training data, activities and subjects and put them together
traindata<-read.table("./train/X_train.txt")
trainactivities<-read.table("./train/y_train.txt")
trainsubjects<-read.table("./train/subject_train.txt")
data1<-cbind(trainsubjects,trainactivities,traindata)
testdata<-read.table("./test/X_test.txt")
testactivities<-read.table("./test/y_test.txt")
testsubjects<-read.table("./test/subject_test.txt")
data2<-cbind(testsubjects,testactivities,testdata)
data<-rbind(data1,data2)
labels<-read.table("features.txt")
labels<-labels[,2]
labels<-as.vector(labels)
newlabels<-c("subject","activity",labels)
names(data)<-newlabels
head(data[,1:10])
stdlabels<-grep("std",newlabels)
meanlabels<-grep("mean",newlabels)
meanstdlabels<-c(meanlabels,stdlabels)
meanstdlabels<-meanstdlabels[order(meanstdlabels)]
data<-data[,meanstdlabels]
head(data[,1:10])
data<-rbind(data1,data2)
labels<-read.table("features.txt")
labels<-labels[,2]
labels<-as.vector(labels)
newlabels<-c("subject","activity",labels)
names(data)<-newlabels
stdlabels<-grep("std",newlabels)
meanlabels<-grep("mean",newlabels)
meanstdlabels<-c(meanlabels,stdlabels)
meanstdlabels<-meanstdlabels[order(meanstdlabels)]
data<-data[,c(1:2,meanstdlabels)]
head(data[,1:10])
head(data[,550:565])
head(data[,550:563])
head(data[,75-81])
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
testnames<-names(data)
testnames
gsub("-|\\()", "", testnames
)
unique(testnames)
newlabels
grep("//,",newlabels)
grep(",",newlabels)
a<-grep(",",newlabels)
b<-grep("mean",newlabels)
intersect(a,b)
b<-grep("std",newlabels)
intersect(a,b)
b<-grep("//()",newlabels)
b
b<-grep("()",newlabels)
b
intersect(a,b)
names(data)<-gsub("-|\\()", "", names(data))
names(data)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
data(mtcars)
mtcars
library(reshape2)
wide1 <- tidied <- dcast(narrow, cyl + gear ~ vs, max)
narrow <- mtcars[, c("cyl", "gear", "vs", "mpg")]
narrow
wide1 <- tidied <- dcast(narrow, cyl + gear ~ vs, max)
wied1
wide1
wide2 <- tidied <- dcast(narrow, cyl + vs ~ gear, max)
wide2
notverywide <- aggregate(mpg ~ gear + vs + cyl, data = narrow, max)
notverywide
untidy <- with(narrow, tapply(mpg, list(cyl, vs, gear), max))
untidy
?dcast
wide2 <- tidied <- dcast(narrow, cyl + vs ~ gear, max)
narrow
dcast(narrow, cyl + vs ~ gear, max)
head(narrow)
xtabs(narrow)
?xtabs
dcast(narrow, cyl + vs ~ gear, max)
xtabs(cyl+vs~gear, narrow)
xtabs(c(cyl,vs)~gear, narrow)
xtabs(cyl~gear, narrow)
xtabs(vs~gear, narrow)
tables(narrow)
table(narrow)
xtabs(cyl+vs~., narrow)
head(narrow)
xtabs(cyl+vs~., narrow,sparse=TRUE)
table(narrow)
head(narrow)
dim(data)
testdata<-data[1:500,]
?aggregate
aggregate(testdata, by=c(subject,activity),fun=mean())
aggregate(testdata, by=c(subject,activity),FUN=mean())
names(testdata)
aggregate(testdata, by=c(subject,activity),FUN=mean())
aggregate(testdata, by=c(subject,activity),FUN=mean)
aggregate(testdata, by=c(testdata$subject,testdata$activity),FUN=mean)
aggregate(testdata, by=testdata$activity,FUN=mean)
aggregate(testdata$activity,data=testdate,mean)
aggregate(testdata$activity,data=testdate,FUN=mean)
str(testdata)
aggregate(.~testdata$activity,data=testdate,FUN=mean)
aggregate(.~activity,data=testdate,FUN=mean)
aggregate(.~testdata$activity,data=testdata,FUN=mean)
aggregate(.~activity,data=testdata,FUN=mean)
aggregate(.~activity+subject,data=testdata,FUN=mean)
aggregate(.~c(activity,subject),data=testdata,FUN=mean)
aggregate(.~subject,data=testdata,FUN=mean)
testdata$subject<-as.factor(testdata$subject)
testdata$activity<-as.factor(testdata$activity)
aggregate(.~subject+activity,data=testdata,FUN=mean)
aggregate(.~subject+activity,data=testdata,FUN=mean)
aggregate(.~activity+subject,data=testdata,FUN=mean)
aggregate(.~activity+subject,data=data,FUN=mean)
answer<-aggregate(.~activity+subject,data=data,FUN=mean)
head(answer[,1:10])
dim(answer)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
answer<-run_analysis()
head(answer)
head(answer,10)
?as.factor
head(testdata)
summary(y)
dim(answer)
testdata<-answer[1:200,]
activitylabels<=c("walking","walkingupstairs","walkingdownstairs","sitting","standing","layingdown")
activitylabels<-c("walking","walkingupstairs","walkingdownstairs","sitting","standing","layingdown")
testdata$activitynew<-factor(testdata$activity,activitylabels)
testdata$activitynew
testdata$activitynew<-factor(testdata$activity,labels=activitylabels)
testdata$activitynew
dim(testdata)
testdata<-testdata[1:180,]
answer<-aggregate(.~activitynew+subject,data=testdata,FUN=mean)
answer
head(answer)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
answer<-run_analysis()
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
answer<-run_analysis()
dim(answer)
head(answer)
head(answer,10)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
?write.table
write.table(answer,"answer.txt")
write.table(answer,"answer.txt",row.name=FALSE)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
run_analysis()
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
run_analysis()
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
setwd()
getwd()
setwd("/Users/TRM/Documents/coursera/r class/"cleandata/UCI HAR Dataset")
setwd("/Users/TRM/Documents/coursera/r class/cleandata/UCI HAR Dataset")
getwd()
setwd("/Users/TRM/Documents/coursera/r class/")
getwd()
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
run_analysis()
answer<-read.table("answer.txt")
answer
head(answer)
answer<-read.table("answer.txt",headers=TRUE)
?read.table
answer<-read.table("answer.txt",header=TRUE)
source('~/Documents/coursera/r class/cleandata/UCI HAR Dataset/run_analysis.R')
setwd("./cleandata/UCI HAR Dataset")
traindata<-read.table("./train/X_train.txt")
trainactivities<-read.table("./train/y_train.txt")
trainsubjects<-read.table("./train/subject_train.txt")
data1<-cbind(trainsubjects,trainactivities,traindata)
##read in testing data, activities and subjects and put them together
testdata<-read.table("./test/X_test.txt")
testactivities<-read.table("./test/y_test.txt")
testsubjects<-read.table("./test/subject_test.txt")
data2<-cbind(testsubjects,testactivities,testdata)
data<-rbind(data1,data2)
##put together testing and training data into one big data set
##read in column names and apply to big data set
labels<-read.table("features.txt")
labels<-labels[,2]
labels<-as.vector(labels)
newlabels<-c("subject","activity",labels)
names(data)<-newlabels
##extract those columns representing std or mean
stdlabels<-grep("std",newlabels)
meanlabels<-grep("mean",newlabels)
meanstdlabels<-c(meanlabels,stdlabels)
meanstdlabels<-meanstdlabels[order(meanstdlabels)]
data<-data[,c(1:2,meanstdlabels)]
##changes activity variable to a more descriptive name
activitylabels<-c("walking","walkingupstairs","walkingdownstairs","sitting","standing","layingdown")
data$activity<-factor(data$activity,labels=activitylabels)
##clean up column names.  left upper case/lower case on purpose
names(data)<-gsub("-|\\()", "", names(data))
##create table that calculates mean of 561 vars by activity, by subject
answer<-aggregate(.~activity+subject,data=data,FUN=mean)
answer
##write data set to a file
write.table(answer,"answer.txt",row.name=FALSE)
head(answer)
names(answer)
write.table(names(answer),"variables.txt")
source('~/Documents/coursera/r class/cleandata/cleandata/UCI HAR Dataset/run_analysis.R')
dir
dir()
source('~/Documents/coursera/r class/cleandatacourse/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandatacourse/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandatacourse/cleandata/UCI HAR Dataset/run_analysis.R')
source('~/Documents/coursera/r class/cleandatacourse/cleandata/UCI HAR Dataset/run_analysis.R')
answer<-run_analysis()
setwd("./")
getwd()
?setwd
?clearwd
setwd("Users/TRM/Documents/coursera/r class/")
